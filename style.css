/*
 * 全域樣式和基本排版
 */
html, body {
    margin: 0; /* 移除瀏覽器預設邊距 */
    padding: 0; /* 移除瀏覽器預設內邊距 */
    font-family: '微軟正黑體', 'Microsoft JhengHei', Arial, sans-serif; /* 設定中文字體優先，確保跨平台顯示效果 */
    line-height: 1.6; /* 設定行高，增加可讀性 */
    color: #333; /* 預設文字顏色 */
    background-color: #f8f9fa; /* 淺灰色背景 */
    min-height: 100vh; /* 確保 body 至少佔滿整個視窗高度 */
    display: flex; /* 啟用 Flexbox 佈局 */
    flex-direction: column; /* 將子元素（如 header, main, footer）垂直排列 */
}

/*
 * 網頁標頭樣式 (Header)
 */
header {
    background-color: #007bff; /* 藍色背景 */
    color: white; /* 白色文字 */
    padding: 20px 0; /* 上下內邊距 20px */
    text-align: center; /* 文字居中 */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* 輕微陰影 */
}

header h1 {
    margin: 0; /* 移除 h1 預設邊距 */
    font-size: 2.8em; /* 標題字體大小 */
    text-align: center;
}

header .subtitle {
    margin-top: 5px;
    font-size: 1.2em;
    font-weight: 300; /* 較細字重 */
    text-align: center;
}

/*
 * 內容容器樣式 (Container)
 */
.container {
    width: 90%; /* 寬度佔 90% */
    max-width: 1200px; /* 最大寬度限制 */
    margin: 0 auto; /* 左右自動邊距實現居中 */
    padding: 10px 0;
}

/*
 * 網頁底部樣式 (Footer)
 */
footer {
    margin-top: auto; /* 將 footer 推至底部（配合 body 的 flex-direction: column）*/
    text-align: center;
    padding: 20px;
    background-color: #e9ecef; /* 淺灰背景 */
    color: #555;
    font-size: 0.85em;
}

/*
 * 首頁專屬樣式
 */
.homepage .hero-section {
    text-align: center;
    padding: 40px 20px;
    background-color: #ffffff;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* 較明顯的陰影 */
    margin: 30px 0;
}

.homepage .index-logo {
    width: 200px;
    max-width: 90%;
    display: block;
    margin: 0 auto 25px;
    border-radius: 12px;
}

.homepage .hero-section p {
    font-size: 1.1em;
    line-height: 1.6;
    margin-bottom: 30px;
}

/*
 * 動畫按鈕樣式 (Button)
 */
.btn-animated {
    position: relative; /* 啟用相對定位 */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 220px;
    height: 70px;
    padding: 0 20px;
    font-size: 18px;
    font-weight: bold;
    color: white;
    border: none;
    border-radius: 8px;
    overflow: hidden; /* 隱藏超出按鈕範圍的內容，用於動畫 */
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
}

.btn-animated .default-text,
.btn-animated .hover-text {
    position: absolute; /* 絕對定位 */
    width: 100%;
    text-align: center;
    transition: all 0.3s ease; /* 讓文字移動有動畫效果 */
}

.btn-animated .default-text {
    top: 50%;
    transform: translateY(-50%); /* 垂直居中 */
    z-index: 1;
}

.btn-animated .hover-text {
    top: 150%; /* 預設放在按鈕下方，隱藏起來 */
    transform: translateY(-50%);
    z-index: 2;
}

.btn-animated:hover .default-text {
    top: -50%; /* 懸停時，預設文字向上移出按鈕範圍 */
    opacity: 0;
}

.btn-animated:hover .hover-text {
    top: 50%; /* 懸停時，懸停文字向上移入按鈕範圍，實現滑入效果 */
    opacity: 1;
}

.btn-animated:active {
    transform: translateY(3px); /* 點擊時，按鈕微向下壓 */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
}

/* 各種顏色按鈕 */
.btn-green {
    background-color: #28a745;
}

.btn-green:hover {
    background-color: #1e7e34;
    box-shadow: 0 6px 10px rgba(0, 0, 0, 0.25);
}

.btn-blue {
    background-color: #007bff;
}

.btn-blue:hover {
    background-color: #0056b3;
    box-shadow: 0 6px 10px rgba(0, 0, 0, 0.25);
}

.btn-gray {
    background-color: #6c757d;
}

.btn-gray:hover {
    background-color: #495057;
    box-shadow: 0 6px 10px rgba(0, 0, 0, 0.25);
}

/*
 * 主要內容佈局樣式 (Flexbox 結構)
 */
.main-layout {
    display: flex; /* 啟用 Flexbox */
    gap: 30px; /* 元素間距 */
    align-items: flex-start; /* 元素從頂部對齊 */
    width: 100%;
}

.main-layout .filter-panel {
    flex: 1; /* 佔用較少空間 */
    min-width: 280px; /* 最小寬度限制 */
}

.main-layout .results-panel {
    flex: 2; /* 佔用較多空間 (是 filter-panel 的兩倍) */
}


/*
 * 主要內容佈局樣式 (Grid 結構)
 * 用於複雜的兩欄佈局
 */
.main-layout-grid {
    display: grid; /* 啟用 Grid 佈局 */
    grid-template-columns: 1fr 1fr; /* 兩欄，各佔 50% 寬度 */
    grid-template-rows: auto 1fr; /* 兩行，第一行高度自適應，第二行佔滿剩餘高度 */
    gap: 30px;
    width: 100%;
    align-items: stretch; /* 確保 grid 項目高度一致 */
}

/* Grid 項目放置位置 */
.main-layout-grid .filter-panel {
    grid-column: 1 / 3; /* 篩選面板跨越兩欄 */
    grid-row: 1 / 2; /* 放在第一行 */
}

.main-layout-grid .results-panel {
    grid-column: 1 / 2; /* 結果面板放在第一欄 */
    grid-row: 2 / 3; /* 放在第二行 */
}

.main-layout-grid .case-panel {
    grid-column: 2 / 3; /* 案例面板放在第二欄 */
    grid-row: 2 / 3; /* 放在第二行 */
}


/*
 * 各面板/卡片通用樣式
 */
.filter-panel,
.results-panel,
.case-panel,
.form-card {
    background: #ffffff;
    padding: 30px;
    border-radius: 8px;
    border: 1px solid #dee2e6;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}


/*
 * 表單卡片樣式
 */
.form-card {
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
    text-align: left;
}

.checkbox-group label {
    display: block;
    margin-bottom: 8px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
}

.form-group input[type="text"],
.form-group textarea {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box; /* 確保 padding 和 border 不增加元素寬度 */
    font-size: 1em;
}

.form-group textarea {
    min-height: 150px;
}


/*
 * 法條/規定卡片樣式
 */
.law-card {
    border-left: 5px solid #007bff; /* 左側藍色邊框強調 */
    padding: 15px;
    margin-bottom: 15px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
}

.law-card h3 {
    color: #007bff;
    margin-top: 0;
    font-size: 1.1em;
    border-bottom: 1px dashed #ced4da;
    padding-bottom: 5px;
}

.law-card.replenish-content {
    border-left-color: #ffc107; /* 黃色邊框用於補充內容 */
    background-color: #fff9e6;
}

.combined-relevance-list {
    list-style: none; /* 移除列表符號 */
    padding-left: 0;
    margin-top: 10px;
    font-size: 0.95em;
}

.combined-relevance-list li {
    margin-bottom: 5px;
    padding-left: 10px;
    border-left: 2px solid #ddd; /* 列表項目左側細線 */
}


/*
 * 案例卡片樣式
 */
.case-card {
    border: 1px solid #dee2e6;
    background-color: #ffffff;
    padding: 15px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

.case-title {
    color: #dc3545; /* 紅色標題強調 */
    margin-top: 0;
    font-size: 1.2em;
    padding-bottom: 5px;
    border-bottom: 1px solid #f0f0f0;
    margin-bottom: 10px;
}

.case-content {
    font-size: 0.95em;
    color: #555;
    margin-bottom: 15px;
}

.case-source a,
.case-video a {
    color: #007bff;
    text-decoration: none;
    font-weight: bold;
}


/*
 * 影片嵌入容器樣式
 */
.video-container {
    position: relative;
    width: 100%;
    padding-bottom: 56.25%; /* 設置 16:9 比例 (高/寬 = 9/16 = 0.5625) */
    height: 0;
    overflow: hidden;
    margin-top: 15px;
    border-radius: 6px;
}

.video-container iframe {
    position: absolute; /* 絕對定位填滿容器 */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
}


/*
 * 訊息提示框樣式
 */
.loading-message,
.error-message,
.note {
    padding: 10px;
    border-radius: 4px;
    margin-top: 15px;
    font-style: italic;
    line-height: 1.4;
}

.loading-message {
    background-color: #e9f5ff; /* 藍色系背景 */
    color: #007bff;
    border-left: 3px solid #007bff;
}

.error-message {
    background-color: #f8d7da; /* 紅色系背景 */
    color: #721c24;
    border-left: 3px solid #dc3545;
}

.button-footer {
    display: flex;
    justify-content: center; /* 按鈕居中 */
    gap: 20px;
    margin-top: 35px;
    width: 100%;
}


/*
 * RWD - 手機版適應 (小於 768px 寬度)
 */
@media (max-width: 768px) {
    header h1 {
        font-size: 2em;
    }

    header .subtitle {
        font-size: 1em;
    }

    /* Grid 佈局改為單欄垂直堆疊 */
    .main-layout-grid {
        grid-template-columns: 1fr; /* 單欄佈局 */
        grid-template-rows: auto auto auto; /* 自動三行 */
        gap: 20px;
    }

    /* 所有 grid 項目都佔滿單欄，並自動垂直排列 */
    .main-layout-grid .filter-panel,
    .main-layout-grid .results-panel,
    .main-layout-grid .case-panel {
        grid-column: 1 / 2;
        grid-row: auto;
    }

    /* Flexbox 佈局改為垂直堆疊 */
    .main-layout {
        flex-direction: column;
        gap: 20px;
    }

    .filter-panel,
    .results-panel,
    .case-panel {
        padding: 20px; /* 縮小內邊距 */
    }

    .button-footer {
        flex-direction: column; /* 底部按鈕改為垂直堆疊 */
        align-items: center;
        gap: 10px;
    }

    .button-footer a,
    .button-footer button {
        width: 80%; /* 讓按鈕佔用較大寬度 */
        min-width: unset;
    }
}
